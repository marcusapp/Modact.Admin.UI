"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[2306],{48374:function(e,l,i){i.r(l),i.d(l,{default:function(){return p}});var o=i(66252),t=i(49963),n=i(3577);const r={class:"login-msg-yzm"},a={key:0},s={class:"login-reg"};function m(e,l,i,m,d,u){const c=(0,o.up)("el-input"),p=(0,o.up)("el-form-item"),g=(0,o.up)("el-button"),h=(0,o.up)("router-link"),f=(0,o.up)("el-form");return(0,o.wg)(),(0,o.j4)(f,{ref:"loginForm",model:d.form,rules:d.rules,"label-width":"0",size:"large",onKeyup:(0,t.D2)(u.login,["enter"])},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{prop:"phone"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{modelValue:d.form.phone,"onUpdate:modelValue":l[0]||(l[0]=e=>d.form.phone=e),"prefix-icon":"el-icon-iphone",clearable:"",placeholder:e.$t("login.mobilePlaceholder")},{prepend:(0,o.w5)((()=>[(0,o.Uk)("+86")])),_:1},8,["modelValue","placeholder"])])),_:1}),(0,o.Wm)(p,{prop:"yzm",style:{"margin-bottom":"35px"}},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.Wm)(c,{modelValue:d.form.yzm,"onUpdate:modelValue":l[1]||(l[1]=e=>d.form.yzm=e),"prefix-icon":"el-icon-unlock",clearable:"",placeholder:e.$t("login.smsPlaceholder")},null,8,["modelValue","placeholder"]),(0,o.Wm)(g,{onClick:u.getYzm,disabled:d.disabled},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(this.$t("login.smsGet")),1),d.disabled?((0,o.wg)(),(0,o.iD)("span",a," ("+(0,n.zw)(d.time)+")",1)):(0,o.kq)("",!0)])),_:1},8,["onClick","disabled"])])])),_:1}),(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{type:"primary",style:{width:"100%"},loading:d.islogin,round:"",onClick:u.login},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("login.signIn")),1)])),_:1},8,["loading","onClick"])])),_:1}),(0,o._)("div",s,[(0,o.Uk)((0,n.zw)(e.$t("login.noAccount"))+" ",1),(0,o.Wm)(h,{to:"/user_register"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("login.createAccount")),1)])),_:1})])])),_:1},8,["model","rules","onKeyup"])}var d={data(){return{form:{phone:"",yzm:""},rules:{phone:[{required:!0,message:this.$t("login.mobileError")}],yzm:[{required:!0,message:this.$t("login.smsError")}]},disabled:!1,time:0,islogin:!1}},mounted(){},methods:{async getYzm(){var e=await this.$refs.loginForm.validateField("phone").catch((()=>{}));if(!e)return!1;this.$message.success(this.$t("login.smsSent")),this.disabled=!0,this.time=60;var l=setInterval((()=>{this.time-=1,this.time<1&&(clearInterval(l),this.disabled=!1,this.time=0)}),1e3)},async login(){var e=await this.$refs.loginForm.validate().catch((()=>{}));if(!e)return!1}}},u=i(83744);const c=(0,u.Z)(d,[["render",m]]);var p=c}}]);